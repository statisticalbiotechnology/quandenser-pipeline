// Needed for singularity //
singularity.enabled=true
singularity.autoMounts=true

// Random hash to use in nextflow //
params.random_hash="qwerty"

// Required if not msconvert or quandenser workflow //
params.db=""

// Required inputs //
params.output_path=""
params.batch_file=""

// Custom mounts //
params.custom_mounts=""

// Parallelization of nextflow pipeline //
params.parallel_msconvert=true
params.parallel_quandenser=false
params.parallel_msconvert_max_forks=0
params.parallel_quandenser_max_forks=0
params.parallel_quandenser_tree=true

// Choosing workflow //
params.workflow="Full"

// Advanced Settings //

// MSconvert
params.msconvert_additional_arguments=""

// Boxcar convert
params.boxcar_convert=false
params.boxcar_convert_additional_arguments=""

// Quandenser
params.quandenser_additional_arguments=""

// Crux
params.precursor_window=20.0
params.missed_clevages=2
params.mods_spec="2M+15.9949"
params.crux_index_additional_arguments=""
params.crux_search_additional_arguments=""
params.crux_percolator_additional_arguments=""

// Triqler
params.fold_change_eval=0.8
params.raw_intensities=false
params.returnDistributions=false
params.triqler_additional_arguments=""

// Quandenser-pipeline
params.resume_directory=""
params.output_label=""
params.email=""
params.sendfiles=true

// Profiles //
profiles {

    local {
        process.executor="local"
    }

    cluster {
        process.executor="slurm"
        process.clusterOptions="-A <ACCOUNT>"
        process.queue="core"

        process {
            withName: msconvert {
                cpus=8
                time="20m"
            }
        }
        process {
            withName: boxcar_convert {
                cpus=10
                time="3h"
            }
        }
        process {
            withName: quandenser {
                cpus=8
                time="3h"
            }
        }
        process {
            withName: quandenser_parallel_1 {
                cpus=4
                time="15m"
            }
        }
        process {
            withName: quandenser_parallel_2 {
                cpus=16
                time="10m"
            }
        }
        process {
            withName: quandenser_parallel_3 {
                cpus=8
                time="20m"
            }
        }
        process {
            withName: quandenser_parallel_4 {
                cpus=8
                time="30m"
            }
        }
        process {
            withName: tide_search {
                cpus=1
                time="10m"
            }
        }
        process {
            withName: triqler {
                cpus=20
                time="30m"
            }
        }
    }
}

mail {
    smtp.host="smtp.gmail.com"
    smtp.port=587
    smtp.user=params.email
    smtp.password=""
    smtp.auth=true
    smtp.starttls.enable=true
    smtp.starttls.required=true
}
